project(*idl) : taoidldefaults {
  idlflags    += -Wb,export_macro=Sync_Export -Wb,export_include=Sync_export.h

  IDL_Files {
    Sync.idl
  }

  custom_only = 1
}

project(*ServerLib) : taolib, portableserver, iortable {
  sharedname   = SyncServer
  after       += *idl
  avoids      += minimum_corba
  dynamicflags = SYNC_BUILD_DLL

  IDL_Files {
  }

  Source_Files {
    SyncServer_i.cpp
    SyncS.cpp
    SyncC.cpp
  }
}

project(*ClientLib) : taolib, portableserver {
  sharedname   = SyncClient
  after       += *idl
  dynamicflags = SYNC_BUILD_DLL

  IDL_Files {
  }

  Source_Files {
    SyncClient_i.cpp
    SyncS.cpp
    SyncC.cpp
  }
}

project(*Server) : taoexe, portableserver, iortable {
  exename = syncServer
  libs   += SyncServer
  after  += *ServerLib
  avoids += minimum_corba

  IDL_Files {
  }

  Source_Files {
    SyncServer.cpp
  }
}
